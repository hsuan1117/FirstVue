<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
		<script src="https://unpkg.com/vue/dist/vue.js"></script>
		<title>First Vue</title>
	</head>

	<body>
		<div id="app">
	
		</div>
	</body>

	<script>
		var $nb = new HNoteBook()
		var NoteBookApp = new Vue({
			el: "#app",
			data: {
				notes: [],
				notSupport: false,
				activeNames: []
			},
			created: function() {

			},
			methods: {
				saveAll() {
					$nb.saveAll()
					this.$message({
						type: 'success',
						message: '儲存成功!'
					});
				},
				newNote(){
					this.notes.push({
						name: "未命名的記事本",
						time: new Date().toLocaleString()
					})
					this.$message({
						type: 'success',
						message: '新增成功!'
					});
				},
				rmNote(i) {
					this.$confirm('刪除後無法復原，確定繼續?', 'Warning', {
						confirmButtonText: '對的!',
						cancelButtonText: '取消',
						type: 'warning'
					}).then(() => {
						this.$delete(this.notes,i)
						this.$message({
							type: 'success',
							message: '刪除成功!'
						});
						$nb.saveAll()
					}).catch(() => {
						this.$message({
							type: 'info',
							message: '取消刪除'
						});
					});
				}
			}
		})
		$(document).ready(function() {
			$nb.getData()
		})
	</script>
</html>
